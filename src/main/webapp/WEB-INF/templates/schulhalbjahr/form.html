<!-- Parameter:
schulhalbjahr - ein schulhalbjahr

disabled - flag if the view should be editable.
saveUrl - die URL zum speichern.
users - a list of selectable user
tags - a list of selectable tag
 -->
<!DOCTYPE HTML>
<html lang="de-DE" xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
    layout:decorator="/main">
<head >
<script th:inline="javascript">
    $(function() {
        $('.datepicker').datepicker(
                {
                    showOn : "both",
                    buttonImage : /*[[@{/resources/css/calendar.gif}]]*/ '../../../../resources/css/calendar.gif',
                    buttonImageOnly : true,
                    dayNamesMin : [ "So", "Mo", "Di", "Mi", "Do", "Fr", "Sa" ],
                    monthNamesShort : [ "Jan", "Feb", "Mrz", "Apr", "Mai",
                            "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez" ],
                    dateFormat : "dd.mm.yy",
                    changeMonth : true,
                    changeYear : true,
                    showWeek : true,
                    firstDay : 1
                });
    });
</script>

</head>
<body>
    <div layout:fragment="content">
    <h3 th:text="#{schulhalbjahr.form.title}"></h3>
    <form class="well form-horizontal" method="post" th:object="${schulhalbjahr}">
        <div th:replace="/fragments::error"></div>

        <input id="id" type="hidden" th:value="*{id}" name="id"/>
        <input id="version" type="hidden" th:value="*{version}" name="version"/>
        <input type="text" bs:field="jahr" disabled="disabled" th:if="${disabled}"/>
        <select bs:field="jahr" th:unless="${disabled}">
            <option th:each="jz : ${jahre}" th:value="${jz}" th:text="${jz}" th:classappend="${jz==schulhalbjahr.jahr}? 'highlight'"></option>
        </select>

        <div class="control-group" layout:include="fragments::bsfield" th:with="fId='halbjahr'"  th:remove="tag">
            <span layout:fragment="bsinput">
                <label th:inline="text" class="radio inline" th:each="hj : ${halbjahre}" th:for="${#ids.next('__${fId}__')}"  th:unless="${disabled}">
                        <input type="radio" th:field="*{__${fId}__}" th:value="${hj.name()}" />
                        [[${hj}]]
                </label>
                <label class="control-label" th:text="*{__${fId}__}" th:if="${disabled}"/>
            </span>
        </div>

        <input type="checkbox" bs:field="selectable" th:disabled="${disabled}"/>
<!--
        <input type="text" bs:field="title" bs:label="#{${post.class.name} +'.title'}" th:disabled="${disabled}"/>

        <textarea rows="4" bs:field="content" th:disabled="${disabled}"></textarea>

        <input type="text" class="datepicker" bs:field="creationTime"  th:disabled="${disabled}"/>

        <span  th:unless="${disabled}" th:remove="tag">
            <select bs:field="user">
                <option th:each="item : ${users}" th:value="${item.id}"
                        th:text="${item.userId} +'(' + ${item.lastName} +', '+${item.firstName} +')' "></option>
            </select>

            <select bs:field="tags" multiple="multiple">
                <option th:each="item : ${tags}" th:value="${item.id}"
                    th:text="${item.name}" th:disabled="${not item.active}">Beispielswert</option>
            </select>
        </span>
        <span th:if="${disabled}" th:remove="tag">
            <a th:with="#{par.user.userid}=${post.user.id}" bs:field="#{db.Post.user}" th:href="@{|__#{nurl.user.show}__|}"
                th:text="${post.user.userId} +'(' + ${post.user.lastName} +', '+${post.user.firstName} +')'"
                th:unless="${post.user==null}">Mustermann, Erwin</a>
            <ul bs:field="tags">
                <li th:each="item : *{tags}"  >
                    <a th:with="#{par.tag.tagid}=${item.id}" th:href="@{|__#{nurl.tag.show}__|}" th:text="${item.name}">Wichtig</a>
                </li>
            </ul>
        </span>
 -->
        <button type="submit" th:formaction="@{${saveUrl}}" class="btn" th:unless="${disabled || saveUrl == null}">
            <i class="save"></i>Speichern</button>
        <a th:href="@{|__#{nurl.schulhalbjahr.edit}__|}" class="btn" th:if="${disabled}">
            <i class="edit"></i>Bearbeiten</a>
        <a th:href="@{#{nurl.schulhalbjahr.list}}" class="btn">
            <i class="cancel"></i>Abbrechen</a>
        <th:block th:include="/fragments::deletebutton(#{nurl.schulhalbjahr.delete})"></th:block>
    </form>


    </div>
</body>
</html>
