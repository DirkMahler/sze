<!DOCTYPE html>
<!-- PARAMS:
bemerkung - die Bemerkung.
bemerkungsBausteine - alle möglichen BemerkungsschulamtsBemerkungsBausteine
schulaemter - alle möglichen Schulämter
schulhalbjahr
saveUrl
cancelUrl
deleteUrl
-->

<html lang="de-DE" xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
    layout:decorator="/main">
<head>
<script type="text/javascript"
    src="../../../resources/js/jquery-1.8.2.js" th:remove="all"></script>
<script type="text/javascript"
    src="../../../resources/js/thymelaefbs.js?1" th:remove="all"></script>
</head>
<body>
    <div layout:fragment="content">
        <h4>
            Bearbeite die Schulamtsbeschreibung für Schüler <em
                th:text="${bemerkung?.zeugnis?.schueler}"></em> (Klasse <span
                th:remove="tag"
                th:text="${bemerkung?.zeugnis?.klasse?.calculateKlassenname(schulhalbjahr.jahr)}"></span>
            im Hj: <span th:remove="tag" th:text="${schulhalbjahr}"></span>)
        </h4>
        <form class="well form-horizontal" method="post"
            th:object="${bemerkung}">
                <input id="id" type="hidden" th:value="*{id}" name="id" />
                <input id="version" type="hidden" th:value="*{version}" name="version" />
                <input id="zeugnis" type="hidden" th:value="*{zeugnis.id}" name="zeugnis" />

            <!-- Schulamt -->
            <select bs:field="#{db.SchulamtsBemerkung.schulamt}"
                class="span4">
                <option th:each="item : ${schulaemter}" th:value="${item.id}"
                    th:text="${item.name}" th:disabled="${not item.aktiv}"></option>
            </select>


            <!-- Baustein -->
            <select bs:field="#{db.SchulamtsBemerkung.schulamtsBemerkungsBaustein}"
                class="span4 cbhideandshow" data-class-show="span4">
                <option th:each="item : ${bemerkungsBausteine}" th:value="${item.id}"
                    th:text="${item.name}" th:disabled="${not item.aktiv}"></option>
            </select>

            <div class="control-group">
                <label class="control-label" for="sortierung"
                    th:text="#{model.SchulamtsBemerkung.sortierung}">Sortierung</label>
                <div class="controls controls-row">
                    <input type="text" class="span1" th:field="*{sortierung}" /> <label
                        class="checkbox span3"> <input type="checkbox"
                        th:field="*{erSieStattNamen}" id="erSieStattNamen" /> <span
                        th:text="#{model.SchulamtsBemerkung.erSieStattNamen}" th:remove="tag"></span>
                    </label>
                </div>
            </div>
            <!-- FixText Sollte nicht übermittelt werden!-->
            <div class="control-group">
                <label class="control-label" for="fixText" th:text="#{field.fixText}+':'">
                Text aus dem:</label>
                <div class="controls controls-row">
                    <textarea th:id="${'schulamtsBemerkungsBaustein' + schulamtsBemerkungsBaustein.id}" rows="5" class="hide" readonly="readonly"
                    th:each="schulamtsBemerkungsBaustein:${bemerkungsBausteine}" th:text="${schulamtsBemerkungsBaustein.beschreibenderSatz}"></textarea>
                </div>
            </div>
            <!-- FreiText -->
            <textarea rows="5" bs:field="freiText"
                class="span4"></textarea>
            <button type="submit" th:formaction="@{${insertUrl}}" class="btn" th:unless="${insertUrl == null}">
                <i class="save"></i>Speichern</button>
            <button type="submit" th:formaction="@{${updateUrl}}" class="btn" th:unless="${updateUrl == null}">
                <i class="save"></i>Speichern</button>
            <button type="submit"  th:formaction="@{${cancelUrl}}" class="btn">
                <i class="cancel"></i>Abbrechen</button>
            <button type="submit"  th:formaction="@{${insertUrl}(action=${'next'})}" class="btn" th:unless="${insertUrl == null}">
                <i class="saveAndNext"></i>Speichern und weiteren Anlegen</button>
            <button type="submit" th:formaction="@{${deleteUrl}}" class="btn" th:unless="${deleteUrl == null}">
                <i class="delete"></i>Löschen</button>
        </form>
    </div>
</body>
</html>
